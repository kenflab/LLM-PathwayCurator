{
  "tool": "llm-pathway-curator",
  "cmd": "run",
  "run_id": "1769897458_6090570d3d",
  "status": "ok",
  "started_epoch": 1769897458.7644074,
  "config": {
    "evidence_table": "/work/paper/source_data/PANCAN_TP53_v1/evidence_tables/SKCM.C2_CP_KEGG_MEDICUS.evidence_table.tsv",
    "sample_card": "/work/paper/source_data/PANCAN_TP53_v1/sample_cards/SKCM.hard.sample_card.json",
    "outdir": "/work/paper/source_data/PANCAN_TP53_v1/out_supp_collections_tau_0.20/C2_CP_KEGG_MEDICUS/SKCM/ours/gate_hard/tau_0.20",
    "force": true,
    "seed": 42,
    "run_meta_name": "run_meta.json",
    "tau": 0.2,
    "k_claims": 50,
    "stress_evidence_dropout_p": 0.0,
    "stress_evidence_dropout_min_keep": 1,
    "stress_contradictory_p": 0.0,
    "stress_contradictory_max_extra": 0
  },
  "env": {
    "python": "3.12.12 | packaged by conda-forge | (main, Oct 22 2025, 23:16:53) [GCC 14.3.0]",
    "platform": "Linux-6.12.54-linuxkit-aarch64-with-glibc2.39",
    "pandas": "2.3.3",
    "tool_version": "0.0.0"
  },
  "inputs": {
    "evidence_table": {
      "path": "/work/paper/source_data/PANCAN_TP53_v1/evidence_tables/SKCM.C2_CP_KEGG_MEDICUS.evidence_table.tsv",
      "size_bytes": 44870,
      "mtime_epoch": 1769827872.695869
    },
    "sample_card": {
      "path": "/work/paper/source_data/PANCAN_TP53_v1/sample_cards/SKCM.hard.sample_card.json",
      "size_bytes": 470,
      "mtime_epoch": 1769270066.5668695
    },
    "sample_card_sha256": "c49e868bc7ec1dbc9d4bb67cca487d2c3762540a103d07916e933e48340b59be",
    "evidence_summary": {
      "contract_version": "v1",
      "n_terms": 186,
      "n_sources": 1,
      "sources": [
        "fgsea_msigdb_C2_CP_KEGG_MEDICUS_entrez"
      ],
      "direction_counts": {
        "up": 102,
        "down": 84
      },
      "genes_per_term_median": 7.0,
      "genes_per_term_p90": 11.0,
      "genes_per_term_p10": 3.0,
      "n_terms_genes_le1": 0,
      "read_mode": "tsv",
      "qval_source_counts": {
        "qval": 186
      },
      "health": {
        "contract_version": "v1",
        "n_terms": 186,
        "n_terms_genes_le1": 0,
        "genes_per_term_median": 7.0,
        "qval_source_counts": {
          "qval": 186
        },
        "n_invalid_total": 0,
        "n_invalid_empty_evidence_genes": 0,
        "invalid_sample": [],
        "salvage_sample": [],
        "drop_invalid": true,
        "strict": false,
        "bh_group_cols": [
          "source",
          "direction"
        ],
        "read_mode": "tsv",
        "n_salvage_term_id_from_name": 0,
        "n_salvage_term_name_from_id": 0,
        "n_term_id_salvaged_kept": 0,
        "n_term_name_salvaged_kept": 0
      },
      "aliasing": {
        "raw_columns": [
          "term_id",
          "term_name",
          "source",
          "stat",
          "qval",
          "direction",
          "evidence_genes"
        ],
        "normalized_columns": [
          "term_id",
          "term_name",
          "source",
          "stat",
          "qval",
          "direction",
          "evidence_genes"
        ],
        "mapped_columns": [
          "term_id",
          "term_name",
          "source",
          "stat",
          "qval",
          "direction",
          "evidence_genes"
        ]
      }
    },
    "evidence_normalized_sha256": "15a3f011d6263e2b31b215f2a28dea831072d0d58b4e579edada8bca184b11ef",
    "sample": {
      "condition": "SKCM",
      "tissue": "tumor",
      "perturbation": "genotype",
      "comparison": "TP53_mut_vs_TP53_wt",
      "species": ""
    },
    "sample_card_raw_sha256": "5a35328510df29f5b6472275252a0c33e49aa5b946eb1188877c3f33bb521701",
    "sample_card_normalized_sha256": "5a35328510df29f5b6472275252a0c33e49aa5b946eb1188877c3f33bb521701",
    "audit": {
      "tau_cfg": 0.2,
      "tau_card": 0.8,
      "tau_effective": 0.2,
      "min_gene_overlap": 1
    },
    "modules": {
      "requested_method": "term_jaccard_cc",
      "effective_method": "term_jaccard_cc",
      "min_shared_genes": 3,
      "jaccard_min": 0.1,
      "term_id_col": "term_uid",
      "genes_col": "evidence_genes",
      "pair_stats_raw": {
        "n_terms": 186,
        "n_pairs_total": 17205,
        "n_pairs_sampled": 17205,
        "shared_pos_rate": 0.057715780296425455,
        "shared_p50": 0.0,
        "shared_p75": 0.0,
        "shared_p90": 0.0,
        "shared_p95": 1.0,
        "shared_p99": 7.0,
        "jaccard_p50": 0.0,
        "jaccard_p75": 0.0,
        "jaccard_p90": 0.0,
        "jaccard_p95": 0.08333333333333333,
        "jaccard_p99": 0.6666666666666666
      },
      "pair_stats_filtered": {
        "n_terms": 179,
        "n_pairs_total": 15931,
        "n_pairs_sampled": 15931,
        "shared_pos_rate": 0.04444165463561609,
        "shared_p50": 0.0,
        "shared_p75": 0.0,
        "shared_p90": 0.0,
        "shared_p95": 0.0,
        "shared_p99": 7.0,
        "jaccard_p50": 0.0,
        "jaccard_p75": 0.0,
        "jaccard_p90": 0.0,
        "jaccard_p95": 0.0,
        "jaccard_p99": 0.5833333333333334
      },
      "pair_stats_for_tuning": "raw_pre_hub_filter",
      "shared_pos_rate_for_tuning": 0.057715780296425455,
      "sparsity_detected": true,
      "tuned_min_shared_genes": 2,
      "tuned_jaccard_min": 0.02,
      "tune_reason": "shared_pos_rate<0.1",
      "n_terms": 179,
      "n_pairs_est": 15931,
      "max_terms_for_pairwise": 3500,
      "singleton_frac": 0.625,
      "did_tune": true,
      "effective_min_shared_genes": 2,
      "effective_jaccard_min": 0.02,
      "largest_component_frac": 0.2849162011173184,
      "giant_frac_threshold": 0.6
    },
    "modules_stats": {
      "n_modules": 48,
      "n_terms_median": 1.0,
      "n_genes_median": 5.0,
      "n_terms_max": 51,
      "n_genes_max": 121
    },
    "claims": {
      "context_gate_review_compat_final": {
        "gate_mode": "hard",
        "review_mode": "proxy",
        "changed": false,
        "updates": {},
        "reasons": [],
        "inputs": {
          "gate_mode": "hard",
          "review_mode": "proxy",
          "swap_active": false
        }
      },
      "k_source": "cfg",
      "k_cfg": 50,
      "k_env": "",
      "k_card": "",
      "k_effective": 50,
      "k_env_raw": "",
      "context_gate_mode": "hard",
      "context_review_mode": "proxy",
      "context_ctx_id_original": "SKCM|tumor|genotype|TP53_mut_vs_TP53_wt",
      "context_ctx_id_effective": "SKCM|tumor|genotype|TP53_mut_vs_TP53_wt",
      "context_swap_from": "",
      "context_swap_to": "",
      "context_weight_learning": {
        "evaluated": false,
        "reason": "disabled"
      },
      "context_score_proxy": {
        "evaluated": true,
        "ctx_id": "SKCM|tumor|genotype|TP53_mut_vs_TP53_wt",
        "weight_col": "weight_log_odds",
        "reason": "EMPTY_WEIGHTS"
      },
      "context_rerank": {
        "enabled": false,
        "lambda": 0.25,
        "timing": "post_review_context_score",
        "rank_key": "survival_score*(1+lambda*context_score)"
      },
      "context_score_source": "proxy_review_confidence",
      "n_proposed_rows": 50,
      "n_proposed_cols": 70,
      "claim_payload_col": "claim_json",
      "claim_json_present": true,
      "context_review_runtime": {
        "evaluated": true,
        "mode": "proxy_context_v2",
        "gate_mode": "hard",
        "ctx_id": "SKCM|tumor|genotype|TP53_mut_vs_TP53_wt",
        "thresholds": {
          "p_fail": 0.05,
          "p_warn": 0.2
        },
        "anchor_used": false,
        "anchor_info": {
          "ok": true,
          "reason": "OK",
          "tokens": [
            "skcm",
            "genotype",
            "tp53",
            "mut"
          ],
          "module_col": "module_id",
          "n_anchor_terms": 33,
          "n_anchor_modules": 13,
          "anchor_terms_preview": [
            "fgsea_msigdb_C2_CP_KEGG_MEDICUS_entrez:KEGG_MEDICUS_VARIANT_MUTATION_INACTIVATED_PDE11A_PDE8B_TO_ACTH_CORTISOL_SIGNALING_PATHWAY",
            "fgsea_msigdb_C2_CP_KEGG_MEDICUS_entrez:KEGG_MEDICUS_VARIANT_MUTATION_CAUSED_ABERRANT_ABETA_TO_ELECTRON_TRANSFER_IN_COMPLEX_IV",
            "fgsea_msigdb_C2_CP_KEGG_MEDICUS_entrez:KEGG_MEDICUS_VARIANT_MUTATION_CAUSED_ABERRANT_HTT_TO_TRANSPORT_OF_CALCIUM",
            "fgsea_msigdb_C2_CP_KEGG_MEDICUS_entrez:KEGG_MEDICUS_VARIANT_MUTATION_CAUSED_ABERRANT_SOD1_TO_26S_PROTEASOME_MEDIATED_PROTEIN_DEGRADATION",
            "fgsea_msigdb_C2_CP_KEGG_MEDICUS_entrez:KEGG_MEDICUS_VARIANT_MUTATION_CAUSED_ABERRANT_HTT_TO_26S_PROTEASOME_MEDIATED_PROTEIN_DEGRADATION",
            "fgsea_msigdb_C2_CP_KEGG_MEDICUS_entrez:KEGG_MEDICUS_VARIANT_MUTATION_CAUSED_ABERRANT_ABETA_TO_26S_PROTEASOME_MEDIATED_PROTEIN_DEGRADATION",
            "fgsea_msigdb_C2_CP_KEGG_MEDICUS_entrez:KEGG_MEDICUS_VARIANT_MUTATION_CAUSED_ABERRANT_ABETA_TO_ELECTRON_TRANSFER_IN_COMPLEX_I",
            "fgsea_msigdb_C2_CP_KEGG_MEDICUS_entrez:KEGG_MEDICUS_VARIANT_MUTATION_CAUSED_ABERRANT_SNCA_TO_26S_PROTEASOME_MEDIATED_PROTEIN_DEGRADATION",
            "fgsea_msigdb_C2_CP_KEGG_MEDICUS_entrez:KEGG_MEDICUS_VARIANT_MUTATION_CAUSED_ABERRANT_TDP43_TO_ELECTRON_TRANSFER_IN_COMPLEX_I",
            "fgsea_msigdb_C2_CP_KEGG_MEDICUS_entrez:KEGG_MEDICUS_VARIANT_MUTATION_INACTIVATED_PINK1_TO_ELECTRON_TRANSFER_IN_COMPLEX_I"
          ]
        },
        "n_eval": 50,
        "n_pass": 41,
        "n_fail": 4,
        "n_abstain": 5,
        "n_anchor_downgrade": 0
      },
      "context_gate_pre_audit": {
        "evaluated": true,
        "gate_mode": "hard",
        "reason": "OK",
        "n_rows": 50,
        "n_blocked": 9,
        "eligible_written": true,
        "preselect_tau_gate_written": true
      }
    },
    "llm": {
      "claim": {
        "enabled": false,
        "claim_mode_env": "",
        "backend_env": "ollama",
        "backend_enabled": false,
        "backend_notes": ""
      },
      "review": {
        "enabled": false,
        "review_mode": "proxy",
        "backend_env": "ollama",
        "backend_enabled": false,
        "backend_notes": ""
      },
      "select_entrypoint": {
        "backend_attached": false,
        "backend_role": "none"
      }
    },
    "stress": {
      "evidence_dropout_p": 0.0,
      "evidence_dropout_min_keep": 1,
      "contradictory_p": 0.0,
      "contradictory_max_extra": 0,
      "seed": 42
    },
    "stress_runtime": {
      "dropout": {
        "evaluated": true,
        "enabled": false,
        "p_drop": 0.0,
        "min_keep": 1
      },
      "dropout_scoring": {
        "evaluated": true,
        "enabled": false,
        "reason": "evidence_dropout_p==0"
      },
      "contradictory": {
        "evaluated": true,
        "enabled": false,
        "reason": "contradictory_p==0",
        "n_injected": 0
      }
    }
  },
  "artifacts": {
    "evidence_normalized_tsv": "/work/paper/source_data/PANCAN_TP53_v1/out_supp_collections_tau_0.20/C2_CP_KEGG_MEDICUS/SKCM/ours/gate_hard/tau_0.20/evidence.normalized.tsv",
    "sample_card_raw_json": "/work/paper/source_data/PANCAN_TP53_v1/out_supp_collections_tau_0.20/C2_CP_KEGG_MEDICUS/SKCM/ours/gate_hard/tau_0.20/sample_card.raw.json",
    "sample_card_normalized_json": "/work/paper/source_data/PANCAN_TP53_v1/out_supp_collections_tau_0.20/C2_CP_KEGG_MEDICUS/SKCM/ours/gate_hard/tau_0.20/sample_card.normalized.json",
    "distilled_tsv": "/work/paper/source_data/PANCAN_TP53_v1/out_supp_collections_tau_0.20/C2_CP_KEGG_MEDICUS/SKCM/ours/gate_hard/tau_0.20/distilled.tsv",
    "modules_tsv": "/work/paper/source_data/PANCAN_TP53_v1/out_supp_collections_tau_0.20/C2_CP_KEGG_MEDICUS/SKCM/ours/gate_hard/tau_0.20/modules.tsv",
    "term_modules_tsv": "/work/paper/source_data/PANCAN_TP53_v1/out_supp_collections_tau_0.20/C2_CP_KEGG_MEDICUS/SKCM/ours/gate_hard/tau_0.20/term_modules.tsv",
    "term_gene_edges_tsv": "/work/paper/source_data/PANCAN_TP53_v1/out_supp_collections_tau_0.20/C2_CP_KEGG_MEDICUS/SKCM/ours/gate_hard/tau_0.20/term_gene_edges.tsv",
    "distilled_with_modules_tsv": "/work/paper/source_data/PANCAN_TP53_v1/out_supp_collections_tau_0.20/C2_CP_KEGG_MEDICUS/SKCM/ours/gate_hard/tau_0.20/distilled.with_modules.tsv",
    "claims_proposed_tsv": "/work/paper/source_data/PANCAN_TP53_v1/out_supp_collections_tau_0.20/C2_CP_KEGG_MEDICUS/SKCM/ours/gate_hard/tau_0.20/claims.proposed.tsv",
    "audit_log_tsv": "/work/paper/source_data/PANCAN_TP53_v1/out_supp_collections_tau_0.20/C2_CP_KEGG_MEDICUS/SKCM/ours/gate_hard/tau_0.20/audit_log.tsv",
    "report_dir": "/work/paper/source_data/PANCAN_TP53_v1/out_supp_collections_tau_0.20/C2_CP_KEGG_MEDICUS/SKCM/ours/gate_hard/tau_0.20",
    "report_jsonl": "/work/paper/source_data/PANCAN_TP53_v1/out_supp_collections_tau_0.20/C2_CP_KEGG_MEDICUS/SKCM/ours/gate_hard/tau_0.20/report.jsonl"
  },
  "step": "report_jsonl",
  "finished_epoch": 1769897459.8076932
}
